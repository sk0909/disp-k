webpackJsonp([3],{fvBK:function(l,n,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=u("WT6e"),e=function(){},o=u("Xjw4"),r=u("ItHS"),i=u("kZql"),c=function(){function l(l){this._htc=l}return l.prototype.getDisplay=function(){return this._htc.post(i.a.baseURL+"inventory/displayOrder","")},l.prototype.orderCompleted=function(l){return this._htc.post(i.a.baseURL+"inventory/orderCompleted",l)},l}(),_=u("DmT9"),d=function(){function l(l){this.ks=l,this.orders=[]}return l.prototype.ngOnInit=function(){var l=this;this.displayItems(),this.socket=_("https://kdisplay.herokuapp.com"),this.socket.on("orders",function(n){n&&(l.orders=n.message)})},l.prototype.displayItems=function(){var l=this;this.ks.getDisplay().subscribe(function(n){console.log("the display::",n),n.status&&(l.orders=n.message)})},l.prototype.orderMarkCompleted=function(l,n){var u=this;n>0?this.ks.orderCompleted({product_Id:l}).subscribe(function(l){u.displayItems()}):alert("Order Already completed !")},l.prototype.generateReport=function(){console.log(this.orders);var l=[];this.orders.forEach(function(n){l.push([n.product_Id.name,n.created_till_now,"prediction"in n.product_Id?n.product_Id.prediction.prediction[n.product_Id.prediction.__v].value:""])});var n=new jsPDF("p","pt");n.autoTable(["Dish name","Produced","Predicted"],l),n.save("table.pdf")},l}(),p=t._1({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}.center[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function a(l){return t._23(0,[(l()(),t._3(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t._21(1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.parent.parent.context.$implicit.product_Id.prediction.prediction[n.parent.parent.parent.context.$implicit.product_Id.prediction.__v].value)})}function s(l){return t._23(0,[(l()(),t._3(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t._21(-1,null,["\n        "])),(l()(),t.Y(16777216,null,null,1,null,a)),t._2(3,16384,null,0,o.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._21(-1,null,["\n      "]))],function(l,n){l(n,3,0,n.parent.parent.context.$implicit.product_Id.prediction)},null)}function f(l){return t._23(0,[(l()(),t._3(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t._21(-1,null,["\n      "])),(l()(),t.Y(16777216,null,null,1,null,s)),t._2(3,16384,null,0,o.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._21(-1,null,["\n    "]))],function(l,n){l(n,3,0,n.parent.context.$implicit.product_Id)},null)}function h(l){return t._23(0,[(l()(),t._3(0,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(2,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t._21(3,null,["",""])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t._21(6,null,["",""])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t._21(9,null,["",""])),(l()(),t._21(-1,null,["\n    "])),(l()(),t.Y(16777216,null,null,1,null,f)),t._2(12,16384,null,0,o.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(14,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t._21(-1,null,["\n      "])),(l()(),t._3(16,0,null,null,1,"button",[["value","status"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.orderMarkCompleted(l.context.$implicit.product_Id._id,l.context.$implicit.quantity)&&t),t},null,null)),(l()(),t._21(-1,null,["Done"])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._21(-1,null,["\n  "]))],function(l,n){l(n,12,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit.product_Id.name),l(n,6,0,n.context.$implicit.quantity),l(n,9,0,n.context.$implicit.created_till_now),l(n,16,0,0==n.context.$implicit.quantity)})}function m(l){return t._23(0,[(l()(),t._3(0,0,null,null,1,"h1",[["class","center"]],null,null,null,null,null)),(l()(),t._21(-1,null,[" No order to show"]))],null,null)}function g(l){return t._23(0,[(l()(),t._3(0,0,null,null,1,"button",[["value","report"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.generateReport()&&t),t},null,null)),(l()(),t._21(-1,null,["Report"])),(l()(),t._21(-1,null,["\n"])),(l()(),t._3(3,0,null,null,23,"table",[],null,null,null,null,null)),(l()(),t._21(-1,null,["\n  "])),(l()(),t._3(5,0,null,null,21,"tbody",[],null,null,null,null,null)),(l()(),t._3(6,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t._21(-1,null,["Name"])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t._21(-1,null,["Quantity"])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t._21(-1,null,["Created-till now"])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t._21(-1,null,["Predicted"])),(l()(),t._21(-1,null,["\n    "])),(l()(),t._3(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t._21(-1,null,["Status"])),(l()(),t._21(-1,null,["\n\n  "])),(l()(),t._21(-1,null,["\n\n  "])),(l()(),t.Y(16777216,null,null,1,null,h)),t._2(25,802816,null,0,o.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t._21(-1,null,["\n\n"])),(l()(),t._21(-1,null,["\n\n  "])),(l()(),t.Y(16777216,null,null,1,null,m)),t._2(29,16384,null,0,o.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,25,0,u.orders),l(n,29,0,0==(null==u.orders?null:u.orders.length))},function(l,n){var u=n.component;l(n,0,0,0==(null==u.orders?null:u.orders.length))})}var y=t.Z("app-kitchen-display",d,function(l){return t._23(0,[(l()(),t._3(0,0,null,null,2,"app-kitchen-display",[],null,null,null,g,p)),t._17(512,null,c,c,[r.c]),t._2(2,114688,null,0,d,[c],null,null)],function(l,n){l(n,2,0)},null)},{},{},[]),v=u("bfOx"),I=function(){};u.d(n,"DisplayModuleNgFactory",function(){return b});var b=t._0(e,[],function(l){return t._10([t._11(512,t.j,t.W,[[8,[y]],[3,t.j],t.v]),t._11(4608,o.k,o.j,[t.s,[2,o.p]]),t._11(512,o.b,o.b,[]),t._11(512,v.n,v.n,[[2,v.s],[2,v.k]]),t._11(512,I,I,[]),t._11(512,e,e,[]),t._11(1024,v.i,function(){return[[{path:"",redirectTo:"display",pathMatch:"full"},{path:"display",component:d,pathMatch:"full"}]]},[])])})}});